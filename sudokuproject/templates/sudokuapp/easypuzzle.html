<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    {% load static %}

    <meta charset="utf-8">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="{% static 'sudokuapp/style.css' %}">
    <script src="http://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>


    <script type="text/javascript">

      function check_for_mistake() {

      for (var i = 0; i < board.length; i++) { if (!y.includes(i)) { if (document.getElementById("id" + String(i+1)).value.length !=0) { if (document.getElementById("id" + String(i+1)).value !=board[i]) { alert("You've made a mistake! Try again"); break; } } } } }

      function solution()

      {

      for (var i = 0; i < board.length; i++) { document.getElementById("td" + String(i+1)).innerHTML=board[i]; } }

        var y = []

        function getRandomIntto81() {
            min = Math.ceil(0);
            max = Math.floor(80);
            return Math.floor(Math.random() * (80 - 0)) + 0;
        }

        function to81(difficulty) {
            window.y
            while (y.length < difficulty) {
                var num = getRandomIntto81()

                if (y.includes(num)) {
                    continue
                } else {
                    y.push(num)
                }

            }

        }

        function getRandomInt() {
            min = Math.ceil(1);
            max = Math.floor(10);
            return Math.floor(Math.random() * (10 - 1)) + 1;
        }

        function rannum() {
            var y = []
            while (y.length < 9) {
                var num = getRandomInt()


                if (y.includes(num)) {
                    continue
                } else {
                    y.push(num)
                }

            }

            return (y)

        }

        board = []

        for (var i = 0; i < 81; i++) {
            board.push(0);
        }

        function newtocall() {

            var r = (rannum())

            for (var i = 0; i < 3; i++) {

                board[i] = r[i]
                board[i + 3 * 4] = r[i]
                board[i + 3 * 8] = r[i]
            }

            for (var i = 3; i < 6; i++) {
                board[i + 3] = r[i]
                board[i + 3 * 2] = r[i]
                board[i + 3 * 6] = r[i]
            }

            for (var i = 6; i < 9; i++) {
                board[i - 3] = r[i]
                board[i + 3 * 3] = r[i]
                board[i + 3 * 4] = r[i]
            }

            board[(9 * 3)] = board[1]
            board[(9 * 4)] = board[1 + 9]
            board[(9 * 5)] = board[1 + 9 * 2]

            board[(9 * 6) + 1] = board[0]
            board[(9 * 7) + 1] = board[0 + 9]
            board[(9 * 8) + 1] = board[0 + 9 * 2]

            board[(9 * 3) + 2] = board[0]
            board[(9 * 4) + 2] = board[0 + 9]
            board[(9 * 5) + 2] = board[0 + 9 * 2]

            board[(9 * 6)] = board[2]
            board[(9 * 7)] = board[2 + 9]
            board[(9 * 8)] = board[2 + 9 * 2]

            board[(9 * 3) + 1] = board[2]
            board[(9 * 4) + 1] = board[2 + 9]
            board[(9 * 5) + 1] = board[2 + 9 * 2]

            board[(9 * 6) + 2] = board[1]
            board[(9 * 7) + 2] = board[1 + 9]
            board[(9 * 8) + 2] = board[1 + 9 * 2]

            for (var i = 0; i < 3; i++) {
                board[i + (9 * 4) + 3] = board[i + (9 * 3)]
                board[i + (9 * 5) + (3 * 2)] = board[i + (9 * 3)]

                board[i + (9 * 5) + 3] = board[i + (9 * 4)]
                board[i + (9 * 3) + (3 * 2)] = board[i + (9 * 4)]

                board[i + (9 * 3) + 3] = board[i + (9 * 5)]
                board[i + (9 * 4) + (3 * 2)] = board[i + (9 * 5)]

                board[i + (9 * 7) + 3] = board[i + (9 * 6)]
                board[i + (9 * 8) + (3 * 2)] = board[i + (9 * 6)]

                board[i + (9 * 8) + 3] = board[i + (9 * 7)]
                board[i + (9 * 6) + (3 * 2)] = board[i + (9 * 7)]

                board[i + (9 * 6) + (3)] = board[i + (9 * 8)]
                board[i + (9 * 7) + (3 * 2)] = board[i + (9 * 8)]
            }

            var a = board[0]
            var b = board[(9 * 2)]

            board[0] = b
            board[(9 * 2)] = a

            var c = board[3]
            var d = board[9 * 2 + 3]

            board[3] = d
            board[9 * 2 + 3] = c

            var e = board[6]
            var f = board[9 * 2 + 6]

            board[6] = f
            board[9 * 2 + 6] = e

            var m = board[9 * 3]
            var n = board[9 * 5]

            board[9 * 5] = m
            board[9 * 3] = n

            var o = board[9 * 3 + 3]
            var p = board[9 * 5 + 3]

            board[9 * 3 + 3] = p
            board[9 * 5 + 3] = o

            var q = board[9 * 3 + 6]
            var r = board[9 * 5 + 6]

            board[9 * 3 + 6] = r
            board[9 * 5 + 6] = q

            var s = board[9 * 6]
            var t = board[9 * 8]

            board[9 * 6] = t
            board[9 * 8] = s

            var u = board[9 * 6 + 3]
            var v = board[9 * 8 + 3]

            board[9 * 6 + 3] = v
            board[9 * 8 + 3] = u

            var w = board[9 * 6 + 6]
            var x = board[9 * 8 + 6]

            board[9 * 6 + 6] = x
            board[9 * 8 + 6] = w

            var a1 = board[0 + 2]
            var b1 = board[(9 * 2) + 2]

            board[0 + 2] = b1
            board[(9 * 2) + 2] = a1

            var c1 = board[3 + 2]
            var d1 = board[9 * 2 + 5]

            board[3 + 2] = d1
            board[9 * 2 + 5] = c1

            var e1 = board[6 + 2]
            var f1 = board[9 * 2 + 8]

            board[6 + 2] = f1
            board[9 * 2 + 6 + 2] = e1

            var m1 = board[9 * 3 + 2]
            var n1 = board[9 * 5 + 2]

            board[9 * 5 + 2] = m1
            board[9 * 3 + 2] = n1

            var o1 = board[9 * 3 + 5]
            var p1 = board[9 * 5 + 5]

            board[9 * 3 + 5] = p1
            board[9 * 5 + 5] = o1

            var q1 = board[9 * 3 + 8]
            var r1 = board[9 * 5 + 8]

            board[9 * 3 + 8] = r1
            board[9 * 5 + 8] = q1

            var s1 = board[9 * 6 + 2]
            var t1 = board[9 * 8 + 2]

            board[9 * 6 + 2] = t1
            board[9 * 8 + 2] = s1

            var u1 = board[9 * 6 + 5]
            var v1 = board[9 * 8 + 5]

            board[9 * 6 + 5] = v1
            board[9 * 8 + 5] = u1

            var w1 = board[9 * 6 + 8]
            var x1 = board[9 * 8 + 8]

            board[9 * 6 + 8] = x1
            board[9 * 8 + 8] = w1

            var mm1 = board[9]
            var mm2 = board[9 + 2]

            board[9] = mm2
            board[9 + 2] = mm1

            var mm3 = board[9 + 3]
            var mm4 = board[9 + 5]

            board[9 + 3] = mm4
            board[9 + 5] = mm3

            var mm5 = board[9 + 6]
            var mm6 = board[9 + 8]

            board[9 + 6] = mm6
            board[9 + 8] = mm5

            var mm7 = board[9 * 4]
            var mm8 = board[9 * 4 + 2]

            board[9 * 4] = mm8
            board[9 * 4 + 2] = mm7

            var mm9 = board[9 * 4 + 3]
            var mm10 = board[9 * 4 + 5]

            board[9 * 4 + 3] = mm10
            board[9 * 4 + 5] = mm9

            var mm11 = board[9 * 4 + 6]
            var mm12 = board[9 * 4 + 8]

            board[9 * 4 + 6] = mm12
            board[9 * 4 + 8] = mm11

            var mm13 = board[9 * 7]
            var mm14 = board[9 * 7 + 2]

            board[9 * 7] = mm14
            board[9 * 7 + 2] = mm13

            var mm15 = board[9 * 7 + 3]
            var mm16 = board[9 * 7 + 5]

            board[9 * 7 + 3] = mm16
            board[9 * 7 + 5] = mm15

            var mm17 = board[9 * 7 + 6]
            var mm18 = board[9 * 7 + 8]

            board[9 * 7 + 6] = mm18
            board[9 * 7 + 8] = mm17

            getcode()

        }

        function getcode()

        {

            num_list2 = []
            tdlist = ["td1", "td2", "td3", "td4", "td5", "td6", "td7", "td8", "td9", "td10", "td11", "td12", "td13", "td14", "td15", "td16", "td17", "td18", "td19", "td20", "td21", "td22", "td23", "td24", "td25", "td26", "td27", "td28", "td29", "td30", "td31", "td32", "td33", "td34", "td35", "td36", "td37", "td38", "td39", "td40", "td41", "td42", "td43", "td44", "td45", "td46", "td47", "td48", "td49", "td50", "td51", "td52", "td53", "td54", "td55", "td56", "td57", "td58", "td59", "td60", "td61", "td62", "td63", "td64", "td65", "td66", "td67", "td68", "td69", "td70", "td71", "td72", "td73", "td74", "td75", "td76", "td77", "td78", "td79", "td80", "td81"]

            idlist = ["id1", "id2", "id3", "id4", "id5", "id6", "id7", "id8", "id9", "id10", "id11", "id12", "id13", "id14", "id15", "id16", "id17", "id18", "id19", "id20", "id21", "id22", "id23", "id24", "id25", "id26", "id27", "id28", "id29", "id30", "id31", "id32", "id33", "id34", "id35", "id36", "id37", "id38", "id39", "id40", "id41", "id42", "id43", "id44", "id45", "id46", "id47", "id48", "id49", "id50", "id51", "id52", "id53", "id54", "id55", "id56", "id57", "id58", "id59", "id60", "id61", "id62", "id63", "id64", "id65", "id66", "id67", "id68", "id69", "id70", "id71", "id72", "id73", "id74", "id75", "id76", "id77", "id78", "id79", "id80", "id81"]

            for (var i = 0; i < 81; i++) {
                num_list2.push(i)
            }

            for (var i = 0; i < num_list2.length; i++) {

                if (y.includes(i)) {

                    document.getElementById(tdlist[i]).innerHTML = board[i];
                    var sheet = document.createElement('style')
                    sheet.innerHTML = "#td1, #td3, #td5, #td7, #td9, #td11, #td13, #td15, #td17, #td19, #td21, #td23, #td25, #td27, #td29, #td31, #td33, #td35, #td37, #td39, #td41, #td43, #td45, #td47, #td49, #td51, #td53, #td55, #td57, #td59, #td61, #td63, #td65, #td67, #td69, #td71, #td73, #td75, #td77, #td79, #td81 {background-color: #CDCDCD; text-align: center}";
                    document.body.appendChild(sheet);
                    var sheet2 = document.createElement('style')
                    sheet2.innerHTML = "#td2, #td4, #td6, #td8, #td10, #td12, #td14, #td16, #td18, #td20, #td22, #td24, #td26, #td28, #td30, #td32, #td34, #td36, #td38, #td40, #td42, #td44, #td46, #td48, #td50, #td52, #td54, #td56, #td58, #td60, #td62, #td64, #td66, #td68, #td70, #td72, #td74, #td76, #td78, #td80 {background-color: #E9E9E9; text-align: center}";
                    document.body.appendChild(sheet2);

                } else {

                    var input = document.createElement("INPUT");
                    input.id = "id" + String(i + 1);
                    input.setAttribute("type", "text");
                    input.setAttribute("maxlength", "1");
                    input.setAttribute("oninput", "this.value=this.value.replace(/[^1-9]/g,'');")
                    document.body.appendChild(input);
                    document.getElementById(tdlist[i]).appendChild(input);
                    var sheet = document.createElement('style')
                    sheet.innerHTML = "#id1, #id3, #id5, #id7, #id9, #id11, #id13, #id15, #id17, #id19, #id21, #id23, #id25, #id27, #id29, #id31, #id33, #id35, #id37, #id39, #id41, #id43, #id45, #id47, #id49, #id51, #id53, #id55, #id57, #id59, #id61, #id63, #id65, #id67, #id69, #id71, #id73, #id75, #id77, #id79, #id81 {background-color: #CDCDCD; width: 100%; height: 100%; text-align: center;}";
                    document.body.appendChild(sheet);
                    var sheet2 = document.createElement('style')
                    sheet2.innerHTML = "#id2, #id4, #id6, #id8, #id10, #id12, #id14, #id16, #id18, #id20, #id22, #id24, #id26, #id28, #id30, #id32, #id34, #id36, #id38, #id40, #id42, #id44, #id46, #id48, #id50, #id52, #id54, #id56, #id58, #id60, #id62, #id64, #id66, #id68, #id70, #id72, #id74, #id76, #id78, #id80 {background-color: #E9E9E9; text-align: center; width: 100%; height: 100%;}";
                    document.body.appendChild(sheet2);

                }

            }

        }

    </script>
    <title>Sudoku Home</title>
</head>
<body onload="to81(45);newtocall()">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark navbar fixed-top">
        <div class="container-fluid">
        <div class="navbar-header">
            <a class="navbar-brand">Sudoku</a>
            <button type="button" class="btn btn-outline-secondary" onClick="window.location.reload();">New</button>
            <button type="button" class="btn btn-outline-secondary" onClick="window.location.href='/'">Medium</button>
            <button type="button" class="btn btn-outline-secondary" onClick="window.location.href='/hardpuzzle'">Hard</button>
        </div>
        <ul class="nav navbar-nav navbar-right">
            <li><button type="button" class="btn btn-outline-secondary" onClick="solution();">Solution</button>
            </li>
            <li><button type="button" class="btn btn-outline-secondary" onClick="check_for_mistake()">Check</button>
            </li>
        </ul>
        </div>
</nav>
    <div class="container">
        <table>
            <tr>
                <td id="td1"></td>
                <td id="td2"></td>
                <td id="td3"></td>
                <td id="td4"></td>
                <td id="td5"></td>
                <td id="td6"></td>
                <td id="td7"></td>
                <td id="td8"></td>
                <td id="td9"></td>
            </tr>
            <tr>
                <td id="td10"></td>
                <td id="td11"></td>
                <td id="td12"></td>
                <td id="td13"></td>
                <td id="td14"></td>
                <td id="td15"></td>
                <td id="td16"></td>
                <td id="td17"></td>
                <td id="td18"></td>
            </tr>
            <tr>
                <td id="td19"></td>
                <td id="td20"></td>
                <td id="td21"></td>
                <td id="td22"></td>
                <td id="td23"></td>
                <td id="td24"></td>
                <td id="td25"></td>
                <td id="td26"></td>
                <td id="td27"></td>
            </tr>
            <tr>
                <td id="td28"></td>
                <td id="td29"></td>
                <td id="td30"></td>
                <td id="td31"></td>
                <td id="td32"></td>
                <td id="td33"></td>
                <td id="td34"></td>
                <td id="td35"></td>
                <td id="td36"></td>
            </tr>
            <tr>
                <td id="td37"></td>
                <td id="td38"></td>
                <td id="td39"></td>
                <td id="td40"></td>
                <td id="td41"></td>
                <td id="td42"></td>
                <td id="td43"></td>
                <td id="td44"></td>
                <td id="td45"></td>
            </tr>
            <tr>
                <td id="td46"></td>
                <td id="td47"></td>
                <td id="td48"></td>
                <td id="td49"></td>
                <td id="td50"></td>
                <td id="td51"></td>
                <td id="td52"></td>
                <td id="td53"></td>
                <td id="td54"></td>
            </tr>
            <tr>
                <td id="td55"></td>
                <td id="td56"></td>
                <td id="td57"></td>
                <td id="td58"></td>
                <td id="td59"></td>
                <td id="td60"></td>
                <td id="td61"></td>
                <td id="td62"></td>
                <td id="td63"></td>
            </tr>
            <tr>
                <td id="td64"></td>
                <td id="td65"></td>
                <td id="td66"></td>
                <td id="td67"></td>
                <td id="td68"></td>
                <td id="td69"></td>
                <td id="td70"></td>
                <td id="td71"></td>
                <td id="td72"></td>
            </tr>
            <tr>
                <td id="td73"></td>
                <td id="td74"></td>
                <td id="td75"></td>
                <td id="td76"></td>
                <td id="td77"></td>
                <td id="td78"></td>
                <td id="td79"></td>
                <td id="td80"></td>
                <td id="td81"></td>
            </tr>
        </table>
    </div>
    </div>
    <div class="footer bg-dark text-center sticky-bottom mt-5" style="width: 100%; height: 100%; padding-top:2px; padding-bottom:20px;">
            <p class="text-white">2020 Sudoku Game</p>
        </div>
</body>
</html>
